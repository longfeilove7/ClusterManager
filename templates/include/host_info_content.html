<div id="page-content-wrapper">

    <!--  右边主机内容-->

    <nav class="navbar navbar-expand-md bg-secondary navbar-dark">
        <a class="navbar-brand" href="#">主机管理</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#" id="batchBtn1" onclick="toBatchPowerOn('mytable',this)">批量开机</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" id="batchBtn2" onclick="toBatchPowerOff('mytable',this)">批量关机</a>
                </li>
                <!-- Dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                        启动顺序
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item" herf="#">DISK</a>
                        </li>
                        <li>
                            <a class="dropdown-item" herf="#">PXE</a>
                        </li>
                        <li>
                            <a class="dropdown-item" herf="#">CDROM</a>
                        </li>
                        <li>
                            <a class="dropdown-item" herf="#">BIOS</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <form class="form-inline mt-2 mt-md-0">
                <input class="form-control mr-sm-2" id="searchbox" type="text" placeholder="Search" aria-label="Search">
                <!-- <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>                      -->
            </form>
        </div>
    </nav>



    <table id="mytable" data-toggle="table" data-side-pagination="client" data-pagination="true" data-search="false" data-show-refresh="false"
        data-height="653" data-show-toggle="false" data-show-columns="false" data-detail-view="false" data-detail-formatter="detailFormatter"
        data-minimum-count-columns="2" data-show-pagination-switch="false" data-pagination="true" data-page-size="10" data-page-list="[10, 25, 50, 100, ALL]"
        data-show-footer="false" data-sort-name="id" data-sort-order="desc" data-row-style="rowStyle" data-striped="true">

        <thead class="thead-light">
            <tr>
                 <th>
                    <input type="checkbox" id="select-all" onclick="selectAll()">
                </th>
                <th>ID</th>
                <th>机房</th>
                <th>机柜</th>
                <th>刀箱</th>
                <th>刀片</th>
                <th>主机名</th>
                <th>业务IP</th>
                <th>管理IP</th>
                <th>存储IP</th>
                <th>集群</th>
                <th>型号</th>
                <th>操作系统</th>                
                <th>开机时间</th>
                <th>关机时间</th>
                <th>状态</th>
                <th>运行时长</th>
                <th>启动顺序</th>
                <th>电源操作</th>
                <th>远程管理</th>                  
            </tr>
        </thead>
        <tbody>
            {% for row in obj %}
            <tr>
                <td>
                    <input type="checkbox" name="selected" value="{'ID':{{ row.id }},'manageIP':'{{ row.manageIP}}'}" onclick="oneToAll()" />
                </td>
                <td>{{ row.id }}</td>
                <td>{{ row.roomNO }}</td>
                <td>{{ row.cabinetNO }}</td>
                <td>{{ row.bladeBoxNO }}</td>
                <td>{{ row.bladeNO}}</td>
                <td>{{ row.hostName }}</td>
                <td>{{ row.serviceIP }}</td>
                <td>{{ row.manageIP }}</td>
                <td>{{ row.storageIP }}</td>
                <td>{{ row.clusterName.clusterName }}</td>
                <td>{{ row.hardware }}</td>
                <td>{{ row.service }}</td>                
                <td>{{ row.powerOnTime|date:"Y-m-d H:i:s" }}</td>
                <td>{{ row.powerOffTime|date:"Y-m-d H:i:s" }}</td>
                <td>{{ row.checkOnline }}</td>
                <td>
                    <a href="/power_history-{{ row.id }}/">{{ row.runTime }}</a>
                </td>                
                <td>
                    <button type="button" id="btn1" class="singleButton" data-toggle="tooltip" data-placement="left" title="DISK启动" name="btn" onclick="toPowerOnDisk('mytable',this)">
                        <i class="fas fa-database"></i>

                    </button>                
                    <button type="button" id="btn2" class="singleButton" data-toggle="tooltip" data-placement="left" title="PXE启动" name="btn" onclick="toPowerOnPxe('mytable',this)">
                        <i class="fab fa-internet-explorer"></i>
                    </button>               
                    <button type="button" id="btn3" class="singleButton" data-toggle="tooltip" data-placement="left" title="CD-ROM启动" name="btn" onclick="toPowerOnCdrom('mytable',this)">
                        <i class="fas fa-compact-disc"></i>
                    </button>
                    <button type="button" id="btn3" class="singleButton" data-toggle="tooltip" data-placement="left" title="BIOS启动" name="btn" onclick="toPowerOnBios('mytable',this)">
                        <i class="fab fa-bitcoin"></i>
                    </button>
                </td>          
                <td>
                    <button type="button" id="btn1" class="singleButton" data-toggle="tooltip" title="开机" name="btn" onclick="toPowerOn('mytable',this)">
                        <i class="fa fa-plug"></i>

                    </button>                
                    <button type="button" id="btn2" class="singleButton" data-toggle="tooltip" title="关机" name="btn" onclick="toPowerOff('mytable',this)">
                        <i class="fa fa-power-off"></i>
                    </button>               
                    <button type="button" id="btn3" class="singleButton" data-toggle="tooltip" title="重启" name="btn" onclick="toPowerCycle('mytable',this)">
                        <i class="fa fa-recycle"></i>
                    </button>
                </td>    
                <td>
                    <button type="button" id="btn1" class="singleButton" data-toggle="tooltip" title="SSH连接" name="btn" onclick="toHttp('mytable',this)">
                        <i class="fas fa-globe"></i>
                    </button>                
                    <button type="button" id="btn2" class="singleButton" data-toggle="tooltip" title="RDP连接" name="btn" onclick="toRdp('mytable',this)">
                        <i class="fab fa-windows"></i>
                    </button>               
                    <button type="button" id="btn3" class="singleButton" data-toggle="tooltip" title="IPMI连接" name="btn" onclick="toSsh('mytable',this)">
                        <i class="fab fa-linux"></i>
                    </button>
                </td>    
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>